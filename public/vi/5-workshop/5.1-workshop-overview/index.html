<!doctype html><html lang=vi class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.151.0"><meta name=description content><meta name=author content="thienlh@thienlu.com"><link rel=icon href=/images/favicon.png type=image/png><title>Giới thiệu :: Báo cáo thực tập</title><link href=/css/nucleus.css?1764234708 rel=stylesheet><link href=/css/fontawesome-all.min.css?1764234708 rel=stylesheet><link href=/css/hybrid.css?1764234708 rel=stylesheet><link href=/css/featherlight.min.css?1764234708 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1764234708 rel=stylesheet><link href=/css/auto-complete.css?1764234708 rel=stylesheet><link href=/css/atom-one-dark-reasonable.css?1764234708 rel=stylesheet><link href=/css/theme.css?1764234708 rel=stylesheet><link href=/css/hugo-theme.css?1764234708 rel=stylesheet><link href=/css/theme-workshop.css?1764234708 rel=stylesheet><script src=/js/jquery-3.3.1.min.js?1764234708></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/vi/5-workshop/5.1-workshop-overview/><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a id=logo href=/><svg id="Layer_1" data-name="Layer 1" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff}.cls-2{fill:#f90;fill-rule:evenodd}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09 10.85a4.7 4.7.0 00.19 1.48 7.73 7.73.0 00.54 1.19.77.77.0 01.12.38.64.64.0 01-.32.49l-1 .7a.83.83.0 01-.44.15.69.69.0 01-.49-.23 3.8 3.8.0 01-.6-.77q-.25-.42-.51-1a6.14 6.14.0 01-4.89 2.3 4.54 4.54.0 01-3.32-1.19 4.27 4.27.0 01-1.22-3.2 4.28 4.28.0 011.46-3.4A6.06 6.06.0 017.69 6.46a12.47 12.47.0 011.76.13q.92.13 1.91.36V5.73a3.65 3.65.0 00-.79-2.66A3.81 3.81.0 007.86 2.3a7.71 7.71.0 00-1.79.22 12.78 12.78.0 00-1.79.57 4.55 4.55.0 01-.58.22h-.26q-.35.0-.35-.52V2a1.09 1.09.0 01.12-.58 1.2 1.2.0 01.47-.35A10.88 10.88.0 015.77.32 10.19 10.19.0 018.36.0a6 6 0 014.35 1.35 5.49 5.49.0 011.38 4.09zM7.34 13.38a5.36 5.36.0 001.72-.31A3.63 3.63.0 0010.63 12 2.62 2.62.0 0011.19 11a5.63 5.63.0 00.16-1.44v-.7a14.35 14.35.0 00-1.53-.28 12.37 12.37.0 00-1.56-.1 3.84 3.84.0 00-2.47.67A2.34 2.34.0 005 11a2.35 2.35.0 00.61 1.76A2.4 2.4.0 007.34 13.38zm13.35 1.8a1 1 0 01-.64-.16 1.3 1.3.0 01-.35-.65L15.81 1.51a3 3 0 01-.15-.67.36.36.0 01.41-.41H17.7a1 1 0 01.65.16 1.4 1.4.0 01.33.65l2.79 11 2.59-11A1.17 1.17.0 0124.39.6a1.1 1.1.0 01.67-.16H26.4a1.1 1.1.0 01.67.16 1.17 1.17.0 01.32.65L30 12.39 32.88 1.25A1.39 1.39.0 0133.22.6a1 1 0 01.65-.16h1.54a.36.36.0 01.41.41 1.36 1.36.0 010 .26 3.64 3.64.0 01-.12.41l-4 12.86a1.3 1.3.0 01-.35.65 1 1 0 01-.64.16H29.25a1 1 0 01-.67-.17 1.26 1.26.0 01-.32-.67L25.67 3.64l-2.56 10.7a1.26 1.26.0 01-.32.67 1 1 0 01-.67.17zm21.36.44a11.28 11.28.0 01-2.56-.29 7.44 7.44.0 01-1.92-.67 1 1 0 01-.61-.93v-.84q0-.52.38-.52a.9.9.0 01.31.06l.42.17a8.77 8.77.0 001.83.58 9.78 9.78.0 002 .2 4.48 4.48.0 002.43-.55 1.76 1.76.0 00.86-1.57 1.61 1.61.0 00-.45-1.16A4.29 4.29.0 0043 9.22l-2.41-.76A5.15 5.15.0 0138 6.78a3.94 3.94.0 01-.83-2.41 3.7 3.7.0 01.45-1.85 4.47 4.47.0 011.19-1.37 5.27 5.27.0 011.7-.86A7.4 7.4.0 0142.6.0a8.87 8.87.0 011.12.07q.57.07 1.08.19t.95.26a4.27 4.27.0 01.7.29 1.59 1.59.0 01.49.41.94.94.0 01.15.55v.79q0 .52-.38.52a1.76 1.76.0 01-.64-.2 7.74 7.74.0 00-3.2-.64 4.37 4.37.0 00-2.21.47 1.6 1.6.0 00-.79 1.48 1.58 1.58.0 00.49 1.18 4.94 4.94.0 001.83.92L44.55 7a5.08 5.08.0 012.57 1.6A3.76 3.76.0 0147.9 11a4.21 4.21.0 01-.44 1.93 4.4 4.4.0 01-1.21 1.47 5.43 5.43.0 01-1.85.93A8.25 8.25.0 0142.05 15.62z"/><path class="cls-2" d="M45.19 23.81C39.72 27.85 31.78 30 25 30A36.64 36.64.0 01.22 20.57c-.51-.46-.06-1.09.56-.74A49.78 49.78.0 0025.53 26.4 49.23 49.23.0 0044.4 22.53C45.32 22.14 46.1 23.14 45.19 23.81z"/><path class="cls-2" d="M47.47 21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74 3.13-2.2 8.27-1.57 8.86-.83s-.16 5.89-3.09 8.35c-.45.38-.88.18-.68-.32C46.69 25.8 48.17 22.11 47.47 21.21z"/></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js?1764234708></script><script type=text/javascript src=/js/auto-complete.js?1764234708></script><script type=text/javascript>var baseurl="https://fcj-workshop-hugo.vercel.app//vi"</script><script type=text/javascript src=/js/search.js?1764234708></script></div><div class=highlightable><ul class=topics><li data-nav-id=/vi/1-worklog/ title=Worklog class=dd-item><a href=/vi/1-worklog/><b>1. </b>Worklog
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/1-worklog/1.1-week1/ title="Week 1 Worklog" class=dd-item><a href=/vi/1-worklog/1.1-week1/><b>1.1. </b>Week 1 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.2-week2/ title="Week 2 Worklog" class=dd-item><a href=/vi/1-worklog/1.2-week2/><b>1.2. </b>Week 2 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.3-week3/ title="Week 3 Worklog" class=dd-item><a href=/vi/1-worklog/1.3-week3/><b>1.3. </b>Week 3 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.4-week4/ title="Week 4 Worklog" class=dd-item><a href=/vi/1-worklog/1.4-week4/><b>1.4. </b>Week 4 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.5-week5/ title="Week 5 Worklog" class=dd-item><a href=/vi/1-worklog/1.5-week5/><b>1.5. </b>Week 5 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.6-week6/ title="Week 6 Worklog" class=dd-item><a href=/vi/1-worklog/1.6-week6/><b>1.6. </b>Week 6 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.7-week7/ title="Week 7 Worklog" class=dd-item><a href=/vi/1-worklog/1.7-week7/><b>1.7. </b>Week 7 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.8-week8/ title="Week 8 Worklog" class=dd-item><a href=/vi/1-worklog/1.8-week8/><b>1.8. </b>Week 8 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.9-week9/ title="Week 9 Worklog" class=dd-item><a href=/vi/1-worklog/1.9-week9/><b>1.9. </b>Week 9 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.10-week10/ title="Week 10 Worklog" class=dd-item><a href=/vi/1-worklog/1.10-week10/><b>1.10. </b>Week 10 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.11-week11/ title="Week 11 Worklog" class=dd-item><a href=/vi/1-worklog/1.11-week11/><b>1.11. </b>Week 11 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.12-week12/ title="Week 12 Worklog" class=dd-item><a href=/vi/1-worklog/1.12-week12/><b>1.12. </b>Week 12 Worklog
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/2-proposal/ title=Proposal class=dd-item><a href=/vi/2-proposal/><b>2. </b>Proposal
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-translatedblog/ title="Blog Translated" class=dd-item><a href=/vi/3-translatedblog/><b>3. </b>Blog Translated
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4-eventparticipants/ title="Event Participants" class=dd-item><a href=/vi/4-eventparticipants/><b>4. </b>Event Participants
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/4-eventparticipants/4.1-event1/ title="Event 1" class=dd-item><a href=/vi/4-eventparticipants/4.1-event1/><b>4.1. </b>Event 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4-eventparticipants/4.2-event2/ title="Event 2" class=dd-item><a href=/vi/4-eventparticipants/4.2-event2/><b>4.2. </b>Event 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4-eventparticipants/4.3-event3/ title="Event 3" class=dd-item><a href=/vi/4-eventparticipants/4.3-event3/><b>4.3. </b>Event 3
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4-eventparticipants/4.4-event4/ title="Event 4" class=dd-item><a href=/vi/4-eventparticipants/4.4-event4/><b>4.4. </b>Event 4
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4-eventparticipants/4.5-event5/ title="Event 5" class=dd-item><a href=/vi/4-eventparticipants/4.5-event5/><b>4.5. </b>Event 5
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4-eventparticipants/4.6-event6/ title="Event 6" class=dd-item><a href=/vi/4-eventparticipants/4.6-event6/><b>4.6. </b>Event 6
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/5-workshop/ title=Workshop class="dd-item
parent"><a href=/vi/5-workshop/><b>5. </b>Workshop
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/5-workshop/5.1-workshop-overview/ title="Giới thiệu" class="dd-item
active"><a href=/vi/5-workshop/5.1-workshop-overview/><b>5.1. </b>Giới thiệu
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/6-self-evaluation/ title=Self-Evaluation class=dd-item><a href=/vi/6-self-evaluation/><b>6. </b>Self-Evaluation
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/7-feedback/ title=Feedback class=dd-item><a href=/vi/7-feedback/><b>7. </b>Feedback
<i class="fas fa-check read-icon"></i></a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://www.facebook.com/groups/awsstudygroupfcj/><i class='fab fa-facebook'></i> AWS Study Group</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=https://fcj-workshop-hugo.vercel.app/5-workshop/5.1-workshop-overview/>English</option><option id=vi value=https://fcj-workshop-hugo.vercel.app/vi/5-workshop/5.1-workshop-overview/ selected>Tiếng Việt</option></select>
<svg id="Capa_1" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li></ul></section><section id=footer><left><b>Workshop</b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title=Migrate alt="web counter" border=0></a><br><b><a href=https://cloudjourney.awsstudygroup.com/>Cloud Journey</a></b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" alt="web counter" border=0>
</left><left><br><br><b>Last Updated</b><br><i><span id=lastUpdated style=color:orange></span>
</i><script>const today=new Date,formattedDate=today.toLocaleDateString("en-GB");document.getElementById("lastUpdated").textContent=formattedDate</script></left><left><br><br><b>Team</b><br><i><a href=https://www.facebook.com/groups/660548818043427 style=color:orange>First Cloud Journey</a><br></i></left><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i>
</a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=/vi/>Báo cáo thực tập</a> > <a href=/vi/5-workshop/>Workshop</a> > Giới thiệu</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><ul><li><a href=#giới-thiệu-về-vpc-endpoint>Giới thiệu về VPC Endpoint</a></li><li><a href=#tổng-quan-về-workshop>Tổng quan về Workshop.</a></li><li><a href=#các-bước-thực-hiện>Các Bước Thực Hiện</a></li><li><a href=#phân-tích-kết-quả-kiểm-thử>Phân tích kết quả kiểm thử.</a></li><li><a href=#kết-luận>Kết luận.</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Giới thiệu</h1><h3 id=giới-thiệu-về-vpc-endpoint>Giới thiệu về VPC Endpoint</h3><ul><li><strong>VPC Endpoint</strong> là một <strong>thiết bị ảo</strong> trong Amazon VPC, cho phép các tài nguyên điện toán (như EC2, Lambda, ECS,&mldr;)
<strong>giao tiếp an toàn</strong> với các dịch vụ AWS mà <strong>không cần đi qua Internet công cộng</strong>.</li><li>Các Endpoint này được thiết kế <strong>mở rộng theo chiều ngang</strong>, <strong>dự phòng cao</strong>, và <strong>đảm bảo tính sẵn sàng</strong>,
giúp loại bỏ rủi ro mất kết nối do phụ thuộc vào Internet Gateway hoặc NAT Gateway.</li><li>Tài nguyên điện toán chạy trong <strong>VPC</strong> có thể truy cập <strong>Amazon S3</strong> thông qua <strong>Gateway Endpoint</strong>,
trong khi <strong>Interface Endpoint (AWS PrivateLink)</strong> có thể được sử dụng cho các tài nguyên <strong>trong VPC hoặc
tại Trung tâm dữ liệu (On-Premises)</strong> để truy cập các dịch vụ AWS một cách riêng tư.</li></ul><hr><h3 id=tổng-quan-về-workshop>Tổng quan về Workshop.</h3><p>Trong workshop này, chúng ta sẽ:</p><ul><li>Tìm hiểu cách <strong>tạo, cấu hình và kiểm tra</strong> hai loại <strong>VPC Endpoint</strong> (Gateway và Interface).</li><li>Thiết lập mô hình <strong>Hybrid Access</strong>, nơi workload trong VPC và hệ thống On-Premises đều có thể truy cập
<strong>Amazon S3</strong> một cách <strong>bảo mật, riêng tư và không qua Internet</strong>.</li><li>Áp dụng <strong>các lớp chính sách bảo mật (Security Layers)</strong> gồm:<ul><li><strong>Endpoint Policy</strong>: Kiểm soát quyền truy cập tại cấp độ Endpoint.</li><li><strong>Bucket Policy</strong>: Giới hạn quyền truy cập dựa trên IP nguồn và phạm vi mạng cho phép.</li></ul></li><li>Thực hiện <strong>kiểm thử truy cập (Positive & Negative Testing)</strong> để xác minh hoạt động của từng lớp bảo mật và</li><li>đảm bảo chỉ các nguồn hợp lệ mới có thể truy cập dữ liệu trong S3.</li></ul><h3 id=các-bước-thực-hiện>Các Bước Thực Hiện</h3><h4 id=giai-đoạn-1-chuẩn-bị-môi-trường>Giai đoạn 1: Chuẩn bị Môi trường.</h4><table><thead><tr><th>Bước</th><th>Hành động</th><th>Vai trò</th></tr></thead><tbody><tr><td>1.1</td><td>Tạo một <strong>VPC</strong> (ví dụ: <code>Hybrid-VPC</code>) và 2 <strong>Subnet</strong> (1 Public, 1 Private).</td><td>Môi trường Cloud</td></tr><tr><td>1.2</td><td>Tạo một <strong>S3 Bucket</strong> (ví dụ: <code>s3://hybrid-secure-data-prod</code>).</td><td>Nơi chứa dữ liệu</td></tr><tr><td>1.3</td><td>Tạo một <strong>EC2 Instance</strong> trong <strong>Subnet Private</strong> (giả lập Workload trong VPC).</td><td>Đối tượng kiểm tra 1</td></tr><tr><td>1.4</td><td>Tạo một <strong>EC2 Instance</strong> trong <strong>Subnet Public</strong> (giả lập Hệ thống On-Premise) và gán một IP nguồn cụ thể (giả định đây là IP đi qua Direct Connect/VPN).</td><td>Đối tượng kiểm tra 2</td></tr></tbody></table><hr><h4 id=giai-đoạn-2-cấu-hình-interface-endpoint-cho-truy-cập-hybrid>Giai đoạn 2: Cấu hình Interface Endpoint (Cho Truy cập Hybrid).</h4><table><thead><tr><th>Bước</th><th>Hành động</th><th>Mục đích</th></tr></thead><tbody><tr><td>2.1</td><td>Tạo <strong>Interface VPC Endpoint</strong> cho S3. Chọn <code>Service Name</code> là <code>com.amazonaws.region.s3</code>.</td><td>Thiết lập kết nối riêng tư cho On-Premise.</td></tr><tr><td>2.2</td><td>Cấu hình <strong>DNS Private</strong> trong VPC để lưu lượng từ On-Premise phân giải tên S3 thành IP riêng của Endpoint.</td><td>Đảm bảo lưu lượng không đi ra Internet.</td></tr><tr><td>2.3</td><td>Áp dụng <strong>Chính sách Endpoint (Policy)</strong> sau cho Interface Endpoint, chỉ cho phép truy cập đến <code>arn:aws:s3:::hybrid-secure-data-prod*</code>.</td><td>Lớp Bảo mật 1: Hạn chế Bucket được truy cập qua Endpoint này.</td></tr></tbody></table><h4 id=json-policy>JSON Policy:</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;Statement&#34;</span>: [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Sid&#34;</span>: <span style=color:#e6db74>&#34;AllowAccessToSpecificBucket&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Effect&#34;</span>: <span style=color:#e6db74>&#34;Allow&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Principal&#34;</span>: <span style=color:#e6db74>&#34;*&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Action&#34;</span>: <span style=color:#e6db74>&#34;s3:*&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Resource&#34;</span>: [
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;arn:aws:s3:::hybrid-secure-data-prod&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;arn:aws:s3:::hybrid-secure-data-prod/*&#34;</span>
</span></span><span style=display:flex><span>      ]
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Sid&#34;</span>: <span style=color:#e6db74>&#34;DenyAllOtherBuckets&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Effect&#34;</span>: <span style=color:#e6db74>&#34;Deny&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Principal&#34;</span>: <span style=color:#e6db74>&#34;*&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Action&#34;</span>: <span style=color:#e6db74>&#34;s3:*&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Resource&#34;</span>: <span style=color:#e6db74>&#34;arn:aws:s3:::*&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=giai-đoạn-3-cấu-hình-gateway-endpoint-cho-truy-cập-trong-vpc>Giai đoạn 3: Cấu hình Gateway Endpoint (Cho Truy cập trong VPC).</h4><table><thead><tr><th>Bước</th><th>Hành động</th><th>Mục đích</th></tr></thead><tbody><tr><td>3.1</td><td>Tạo <strong>Gateway VPC Endpoint</strong> cho S3.</td><td>Đảm bảo truy cập S3 trong VPC mà không cần đi qua Internet.</td></tr><tr><td>3.2</td><td><strong>Cập nhật Route Table</strong>: Liên kết Endpoint với Route Table của Subnet Private.</td><td>Điều hướng lưu lượng S3 trong VPC đến Gateway Endpoint.</td></tr><tr><td>3.3</td><td>Áp dụng <strong>Chính sách Endpoint</strong>: Áp dụng một chính sách đơn giản cho phép truy cập, nhưng chỉ dành cho các IAM Role/User cụ thể trong VPC.</td><td><strong>Lớp Bảo mật 2:</strong> Cơ chế kiểm soát truy cập bổ sung.</td></tr></tbody></table><hr><h4 id=giai-đoạn-4-thực-thi-chính-sách-s3-bucket-kiểm-soát-nguồn>Giai đoạn 4: Thực thi Chính sách S3 Bucket (Kiểm soát Nguồn).</h4><table><thead><tr><th>Bước</th><th>Hành động</th><th>Mục đích</th></tr></thead><tbody><tr><td>4.1</td><td>Cấu hình <strong>S3 Bucket Policy</strong> cho <code>s3://hybrid-secure-data-prod</code>.</td><td><strong>Lớp Bảo mật 3:</strong> Lớp kiểm soát cuối cùng, đảm bảo chỉ những nguồn đáng tin cậy mới được phép.</td></tr><tr><td>4.2</td><td>Sử dụng điều kiện <strong>aws:SourceIp</strong> để chỉ cho phép truy cập từ <strong>CIDR Block của On-Premise (IP của EC2 giả lập ở 1.4)</strong> và <strong>CIDR Block của Subnet Private (EC2 trong VPC)</strong>.</td><td>Giới hạn truy cập vào S3 từ bên ngoài các nguồn Hybrid được phép.</td></tr></tbody></table><h4 id=json-policy-1>JSON Policy:</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;Version&#34;</span>: <span style=color:#e6db74>&#34;2012-10-17&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;Statement&#34;</span>: [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Sid&#34;</span>: <span style=color:#e6db74>&#34;RestrictAccessToHybridSources&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Effect&#34;</span>: <span style=color:#e6db74>&#34;Deny&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Principal&#34;</span>: <span style=color:#e6db74>&#34;*&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Action&#34;</span>: <span style=color:#e6db74>&#34;s3:*&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Resource&#34;</span>: [
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;arn:aws:s3:::hybrid-secure-data-prod&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;arn:aws:s3:::hybrid-secure-data-prod/*&#34;</span>
</span></span><span style=display:flex><span>      ],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Condition&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;NotIpAddress&#34;</span>: {
</span></span><span style=display:flex><span>          <span style=color:#f92672>&#34;aws:SourceIp&#34;</span>: [
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;IP_CỦA_ON_PREM_GIẢ_LẬP/32&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;CIDR_CỦA_SUBNET_PRIVATE&#34;</span>
</span></span><span style=display:flex><span>          ]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=giai-đoạn-5-kiểm-tra-và-thử-nghiệm-thất-bại-negative-testing>Giai đoạn 5: Kiểm tra và Thử nghiệm Thất bại (Negative Testing)</h4><p>Mục tiêu của giai đoạn này là <strong>xác minh tính hiệu quả của các lớp bảo mật</strong> được áp dụng trong cấu hình VPC Endpoint và S3 Bucket Policy, đảm bảo rằng chỉ các nguồn hợp lệ (được định danh qua IP và Endpoint Policy) mới có quyền truy cập.</p><table><thead><tr><th><strong>Bước</strong></th><th><strong>Nguồn truy cập</strong></th><th><strong>Mục tiêu Kiểm tra</strong></th><th><strong>Kết quả Mong đợi</strong></th></tr></thead><tbody><tr><td><strong>5.1</strong></td><td>EC2 On-Premise <em>(IP được phép)</em></td><td>Truy cập <code>s3://hybrid-secure-data-prod</code></td><td>✅ <strong>THÀNH CÔNG:</strong> Được phép vì IP nguồn và Bucket Policy khớp.</td></tr><tr><td><strong>5.2</strong></td><td>EC2 On-Premise <em>(IP được phép)</em></td><td>Truy cập một bucket S3 <strong>khác</strong></td><td>❌ <strong>THẤT BẠI:</strong> Bị từ chối bởi <strong>Interface Endpoint Policy</strong>.</td></tr><tr><td><strong>5.3</strong></td><td>EC2 trong VPC <em>(Subnet Private)</em></td><td>Truy cập <code>s3://hybrid-secure-data-prod</code></td><td>✅ <strong>THÀNH CÔNG:</strong> Được phép vì IP nguồn và Bucket Policy khớp.</td></tr><tr><td><strong>5.4</strong></td><td>EC2 bất kỳ <em>(có Public IP)</em></td><td>Truy cập <code>s3://hybrid-secure-data-prod</code> qua Internet</td><td>❌ <strong>THẤT BẠI:</strong> Bị từ chối bởi <strong>S3 Bucket Policy</strong> (<code>NotIpAddress</code>).</td></tr></tbody></table><hr><h3 id=phân-tích-kết-quả-kiểm-thử>Phân tích kết quả kiểm thử.</h3><ul><li><p><strong>Truy cập hợp lệ (5.1 & 5.3):</strong><br>Các nguồn trong danh sách IP cho phép hoặc từ Subnet Private được truy cập bình thường thông qua các Endpoint bảo mật.</p></li><li><p><strong>Truy cập bị từ chối (5.2 & 5.4):</strong><br>Các truy cập nằm ngoài phạm vi IP hoặc bucket được phép đều bị từ chối ở lớp <strong>Endpoint Policy</strong> hoặc</p></li><li><p><strong>Bucket Policy</strong>, đảm bảo nguyên tắc <strong>Zero Trust Access</strong>.</p></li></ul><hr><h3 id=kết-luận>Kết luận.</h3><p>Việc thử nghiệm đã xác nhận rằng:</p><ul><li>Các <strong>Gateway và Interface Endpoint</strong> hoạt động đúng chức năng, định tuyến lưu lượng nội bộ mà không đi qua Internet.</li><li><strong>Chính sách bảo mật nhiều lớp</strong> (VPC Endpoint Policy + S3 Bucket Policy) hoạt động hiệu quả.</li><li><strong>Mô hình Hybrid Access</strong> được đảm bảo an toàn, kiểm soát được nguồn truy cập, và tuân thủ nguyên tắc bảo mật nội bộ của AWS.</li></ul><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=/vi/5-workshop/ title=Workshop><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/vi/6-self-evaluation/ title=Self-Evaluation style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1e3px;overflow:scroll;position:absolute;top:-1e3px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1764234708></script><script src=/js/perfect-scrollbar.min.js?1764234708></script><script src=/js/perfect-scrollbar.jquery.min.js?1764234708></script><script src=/js/jquery.sticky.js?1764234708></script><script src=/js/featherlight.min.js?1764234708></script><script src=/js/highlight.pack.js?1764234708></script><script>hljs.initHighlightingOnLoad()</script><script src=/js/modernizr.custom-3.6.0.js?1764234708></script><script src=/js/learn.js?1764234708></script><script src=/js/hugo-learn.js?1764234708></script><link href=/mermaid/mermaid.css?1764234708 rel=stylesheet><script src=/mermaid/mermaid.js?1764234708></script><script>mermaid.initialize({startOnLoad:!0})</script><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,(e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date),(i=t.createElement(n),a=t.getElementsByTagName(n)[0]),i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-158079754-2","auto"),ga("send","pageview")</script></body></html>